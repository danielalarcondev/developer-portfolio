---
import './Header.css';
import DarkIcon from './Icons/DarkIcon.astro';
import LightIcon from './Icons/LightIcon.astro';

import { HEADER } from '../../data';

const TRANSPARENT_WITH_OPACITY = 'bg-transparent/10';
const { photoPath, photoAlt } = HEADER;
---

<script>
	import { configureMenu } from './helpers';
	configureMenu();
</script>

<header class:list={['w-full']}>
	<div class:list={['w-full', 'h-[250px]']}>
		<img
			class:list={[
				'subheader',
				'w-full',
				'h-full',
				'object-cover',
				'bg-cover',
			]}
			src={photoPath}
			alt={photoAlt}
		/>
	</div>

	<nav
		class:list={[
			'menu-nav',
			'max-w-screen-2xl',
			'fixed',
			'top-0',
			'w-full',
			'h-[3.75rem]',
			'z-20',
			'border-b',
			'border-gray-200',
			'flex',
			TRANSPARENT_WITH_OPACITY,
		]}>
		<div
			class:list={[
				'h-full',
				'flex',
				'flex-wrap',
				'flex-1',
				'w-full',
				'justify-between md:justify-normal',
			]}>
			<div
				class:list={[
					'flex',
					'md:order-2',
					'space-x-3 md:space-x-0',
					'rtl:space-x-reverse',
				]}>
				<button
					class:list={[
						'menu-button',
						'w-10',
						'inline-flex',
						'items-center',
						'justify-center',
						'text-sm',
						'text-white',
						'rounded-lg',
						'md:hidden',
					]}
					data-collapse-toggle='navbar-sticky'
					type='button'
					aria-controls='navbar-sticky'
					aria-expanded='false'>
					<svg
						class:list={['menu-icon', 'w-5', 'h-5']}
						aria-hidden='true'
						xmlns='http://www.w3.org/2000/svg'
						fill='none'
						viewBox='0 0 17 14'>
						<path
							stroke='currentColor'
							stroke-linecap='round'
							stroke-linejoin='round'
							stroke-width='2'
							d='M1 1h15M1 7h15M1 13h15'></path>
					</svg>
				</button>
			</div>

			<div
				class:list={[
					'md:flex',
					'flex-1',
					'w-full md:w-auto',
					'h-full',
					'items-center',
					'hidden',
					'md:order-1',
				]}
				id='navbar-sticky'>
				<ul
					class:list={[
						'menu-ul',
						'flex',
						'flex-1',
						'flex-col md:flex-row',
						'p-4 md:p-0',
						'mt-4 md:mt-0',
						'mr-2 md:mr-0',
						'font-medium',
						'border md:border-0',
						'border-gray-100',
						'rounded-lg',
						'md:space-x-8',
						'rtl:space-x-reverse',
						'bg-transparent',
						'ml-none lg:ml-32',
						'justify-center',
					]}>
					{
						[
							{ text: 'Home', id: 'home' },
							{ text: 'Commercial Experience', id: 'experience' },
							{ text: 'Projects', id: 'projects' },
						].map((link, index) => (
							<li
								class:list={[
									'pl-[12px]',
									'pr-[12px]',
									'pt-[4px]',
									'text-white',
									'text-xl',
									'border-b-4',
									'-mb-1',
									'border-transparent hover:border-secondary-500',
									'hover:cursor-pointer',
									'w-fit',
									'h-fit',
								]}>
								<a
									href={`#${link.id}`}
									class:list={[
										'menu-anchor',
										'h-auto',
										'block',
										'py-2 px-3 md:p-0',
										'md:bg-transparent',
									]}
									aria-current={
										(index === 0 && 'page') || undefined
									}>
									{link.text}
								</a>
							</li>
						))
					}
				</ul>
			</div>
			<label
				class:list={[
					'inline-flex',
					'items-center',
					'cursor-pointer',
					'w-32',
					'order-2',
				]}>
				<div class:list={['mr-2']}>
					<LightIcon />
				</div>
				<input
					type='checkbox'
					value=''
					class:list={['theme-switcher', 'sr-only', 'peer']}
				/>
				<div
					class:list={[
						'relative',
						'w-11 after:w-5',
						'h-6 after:h-5',
						'bg-gray-200 peer-checked:bg-secondary-500',
						'rounded-full',
						'peer-checked:after:translate-x-full',
						'rtl:peer-checked:after:-translate-x-full',
						'peer-checked:after:border-white after:content-[""]',
						'after:absolute after:top-[2px]',
						'after:start-[2px]',
						'after:bg-white',
						'after:border-gray-300',
						'after:border',
						'after:rounded-full',
						'after:transition-all',
					]}>
				</div>
				<div class:list={['ml-2']}>
					<DarkIcon />
				</div>
			</label>
		</div>
	</nav>
</header>
